<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Obelisk DEX - Your Decentralized Post-Quantum Bank</title>
    <meta name="description" content="Self-custody decentralized exchange with post-quantum security. Your keys, your crypto, your bank.">

    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; connect-src https://api.hyperliquid.xyz https://api.uniswap.org https://api.coingecko.com https://*.infura.io https://*.alchemy.com wss://api.hyperliquid.xyz;">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" type="image/svg+xml" href="assets/obelisk-icon.svg">
</head>
<body>
    <!-- App Container -->
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 2L8 38h24L20 2z" fill="url(#obelisk-gradient)" />
                        <path d="M20 8L12 34h16L20 8z" fill="#0a0a0f" />
                        <path d="M20 14L15 30h10L20 14z" fill="url(#obelisk-gradient)" opacity="0.6" />
                        <defs>
                            <linearGradient id="obelisk-gradient" x1="20" y1="2" x2="20" y2="38" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#00f0ff" />
                                <stop offset="1" stop-color="#0080ff" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <span class="logo-text">OBELISK</span>
                    <span class="logo-badge">Post-Quantum DEX</span>
                </div>
                <nav class="nav-tabs">
                    <button class="nav-tab active" data-tab="trade">Trade</button>
                    <button class="nav-tab" data-tab="swap">Swap</button>
                    <button class="nav-tab" data-tab="wallet">Wallet</button>
                    <button class="nav-tab" data-tab="portfolio">Portfolio</button>
                </nav>
            </div>
            <div class="header-right">
                <div class="network-selector">
                    <span class="network-dot"></span>
                    <span id="network-name">Arbitrum</span>
                </div>
                <button class="btn-connect" id="btn-connect-wallet">
                    <span class="btn-icon">üîê</span>
                    <span>Connect Wallet</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Trade Tab (Hyperliquid) -->
            <section class="tab-content active" id="tab-trade">
                <div class="trade-layout">
                    <!-- Chart Section -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <div class="pair-selector">
                                <span class="pair-name" id="current-pair">BTC-USD</span>
                                <span class="pair-price positive" id="current-price">$97,234.50</span>
                                <span class="pair-change positive" id="price-change">+2.34%</span>
                            </div>
                            <div class="chart-controls">
                                <button class="chart-tf active">1H</button>
                                <button class="chart-tf">4H</button>
                                <button class="chart-tf">1D</button>
                                <button class="chart-tf">1W</button>
                            </div>
                        </div>
                        <div class="chart-area" id="trading-chart">
                            <div class="chart-placeholder">
                                <span>üìä TradingView Chart</span>
                                <span class="sub">Connect wallet to load</span>
                            </div>
                        </div>
                    </div>

                    <!-- Order Book -->
                    <div class="orderbook-container">
                        <div class="orderbook-header">
                            <span>Order Book</span>
                            <div class="orderbook-toggle">
                                <button class="ob-btn active">Both</button>
                                <button class="ob-btn">Bids</button>
                                <button class="ob-btn">Asks</button>
                            </div>
                        </div>
                        <div class="orderbook-labels">
                            <span>Price</span>
                            <span>Size</span>
                            <span>Total</span>
                        </div>
                        <div class="orderbook-asks" id="orderbook-asks">
                            <!-- Asks will be populated -->
                        </div>
                        <div class="orderbook-spread">
                            <span id="spread-value">Spread: $12.50 (0.01%)</span>
                        </div>
                        <div class="orderbook-bids" id="orderbook-bids">
                            <!-- Bids will be populated -->
                        </div>
                    </div>

                    <!-- Order Form -->
                    <div class="order-container">
                        <div class="order-tabs">
                            <button class="order-tab active" data-side="long">Long</button>
                            <button class="order-tab" data-side="short">Short</button>
                        </div>
                        <div class="order-type-selector">
                            <button class="type-btn active">Market</button>
                            <button class="type-btn">Limit</button>
                            <button class="type-btn">Stop</button>
                        </div>
                        <div class="order-form">
                            <div class="form-group">
                                <label>Size (USD)</label>
                                <div class="input-group">
                                    <input type="number" id="order-size" placeholder="0.00" />
                                    <span class="input-suffix">USD</span>
                                </div>
                            </div>
                            <div class="form-group" id="limit-price-group" style="display:none;">
                                <label>Limit Price</label>
                                <div class="input-group">
                                    <input type="number" id="limit-price" placeholder="0.00" />
                                    <span class="input-suffix">USD</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Leverage</label>
                                <div class="leverage-slider">
                                    <input type="range" id="leverage-slider" min="1" max="50" value="10" />
                                    <span class="leverage-value" id="leverage-value">10x</span>
                                </div>
                                <div class="leverage-presets">
                                    <button class="lev-btn">1x</button>
                                    <button class="lev-btn">5x</button>
                                    <button class="lev-btn active">10x</button>
                                    <button class="lev-btn">25x</button>
                                    <button class="lev-btn">50x</button>
                                </div>
                            </div>
                            <div class="order-summary">
                                <div class="summary-row">
                                    <span>Entry Price</span>
                                    <span id="entry-price">$97,234.50</span>
                                </div>
                                <div class="summary-row">
                                    <span>Liquidation Price</span>
                                    <span id="liq-price" class="warning">$87,511.05</span>
                                </div>
                                <div class="summary-row">
                                    <span>Fee</span>
                                    <span id="order-fee">~$0.50</span>
                                </div>
                            </div>
                            <button class="btn-order btn-long" id="btn-place-order" disabled>
                                Connect Wallet to Trade
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Positions -->
                <div class="positions-section">
                    <div class="positions-header">
                        <button class="pos-tab active">Positions (0)</button>
                        <button class="pos-tab">Orders (0)</button>
                        <button class="pos-tab">History</button>
                    </div>
                    <div class="positions-table">
                        <div class="positions-empty">
                            <span>No open positions</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Swap Tab (Uniswap) -->
            <section class="tab-content" id="tab-swap">
                <div class="swap-container">
                    <div class="swap-card">
                        <div class="swap-header">
                            <h2>Swap</h2>
                            <button class="btn-settings" id="swap-settings">‚öôÔ∏è</button>
                        </div>
                        <div class="swap-form">
                            <div class="swap-input">
                                <div class="swap-input-header">
                                    <span>You pay</span>
                                    <span class="balance">Balance: <span id="from-balance">0.00</span></span>
                                </div>
                                <div class="swap-input-row">
                                    <input type="number" id="swap-from-amount" placeholder="0" />
                                    <button class="token-selector" id="from-token">
                                        <img src="assets/eth.svg" alt="ETH" class="token-icon" onerror="this.style.display='none'">
                                        <span>ETH</span>
                                        <span class="dropdown-arrow">‚ñº</span>
                                    </button>
                                </div>
                            </div>
                            <button class="swap-switch" id="btn-swap-switch">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M7 16V4m0 0L3 8m4-4l4 4M17 8v12m0 0l4-4m-4 4l-4-4"/>
                                </svg>
                            </button>
                            <div class="swap-input">
                                <div class="swap-input-header">
                                    <span>You receive</span>
                                    <span class="balance">Balance: <span id="to-balance">0.00</span></span>
                                </div>
                                <div class="swap-input-row">
                                    <input type="number" id="swap-to-amount" placeholder="0" readonly />
                                    <button class="token-selector" id="to-token">
                                        <img src="assets/usdc.svg" alt="USDC" class="token-icon" onerror="this.style.display='none'">
                                        <span>USDC</span>
                                        <span class="dropdown-arrow">‚ñº</span>
                                    </button>
                                </div>
                            </div>
                            <div class="swap-details" id="swap-details" style="display:none;">
                                <div class="detail-row">
                                    <span>Rate</span>
                                    <span id="swap-rate">1 ETH = 3,245.67 USDC</span>
                                </div>
                                <div class="detail-row">
                                    <span>Price Impact</span>
                                    <span id="price-impact" class="positive">&lt;0.01%</span>
                                </div>
                                <div class="detail-row">
                                    <span>Network Fee</span>
                                    <span id="network-fee">~$2.50</span>
                                </div>
                            </div>
                            <button class="btn-swap" id="btn-swap" disabled>
                                Connect Wallet to Swap
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Wallet Tab (Post-Quantum) -->
            <section class="tab-content" id="tab-wallet">
                <div class="wallet-container">
                    <!-- No Wallet State -->
                    <div class="wallet-empty" id="wallet-empty">
                        <div class="wallet-hero">
                            <div class="shield-icon">
                                <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M32 4L8 16v16c0 14.4 10.24 27.84 24 32 13.76-4.16 24-17.6 24-32V16L32 4z" fill="url(#shield-grad)" />
                                    <path d="M32 12l-18 9v12c0 10.8 7.68 20.88 18 24 10.32-3.12 18-13.2 18-24V21l-18-9z" fill="#0a0a0f" />
                                    <path d="M28 32l-4-4-2 2 6 6 12-12-2-2-10 10z" fill="#00f0ff" />
                                    <defs>
                                        <linearGradient id="shield-grad" x1="32" y1="4" x2="32" y2="52" gradientUnits="userSpaceOnUse">
                                            <stop stop-color="#00f0ff" />
                                            <stop offset="1" stop-color="#0080ff" />
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <h2>Post-Quantum Secure Wallet</h2>
                            <p class="hero-subtitle">Your keys never leave your device. Protected against quantum computers.</p>
                            <div class="security-badges">
                                <span class="badge">üîê CRYSTALS-Kyber</span>
                                <span class="badge">‚úçÔ∏è CRYSTALS-Dilithium</span>
                                <span class="badge">üõ°Ô∏è AES-256-GCM</span>
                                <span class="badge">üîë Argon2id</span>
                            </div>
                        </div>
                        <div class="wallet-actions">
                            <button class="btn-primary btn-create" id="btn-create-wallet">
                                <span class="btn-icon">‚ú®</span>
                                Create New Wallet
                            </button>
                            <button class="btn-secondary btn-import" id="btn-import-wallet">
                                <span class="btn-icon">üì•</span>
                                Import Existing Wallet
                            </button>
                            <button class="btn-secondary btn-connect-external" id="btn-connect-external">
                                <span class="btn-icon">üîó</span>
                                Connect MetaMask / WalletConnect
                            </button>
                        </div>
                        <div class="privacy-notice">
                            <div class="notice-icon">‚ÑπÔ∏è</div>
                            <div class="notice-text">
                                <strong>Zero-Knowledge Architecture</strong>
                                <p>Obelisk never stores your keys, seeds, or personal data. Everything is encrypted locally on your device with your password. We cannot access your funds - even if compelled by law.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Wallet Connected State -->
                    <div class="wallet-connected" id="wallet-connected" style="display:none;">
                        <div class="wallet-header-section">
                            <div class="wallet-info">
                                <div class="wallet-address-display">
                                    <span class="address-label">Address</span>
                                    <div class="address-row">
                                        <span class="address" id="wallet-address">0x1234...5678</span>
                                        <button class="btn-copy" id="btn-copy-address">üìã</button>
                                    </div>
                                </div>
                                <div class="wallet-security-status">
                                    <span class="security-icon">üõ°Ô∏è</span>
                                    <span class="security-text">Post-Quantum Protected</span>
                                </div>
                            </div>
                            <div class="wallet-balance-card">
                                <span class="balance-label">Total Balance</span>
                                <span class="balance-value" id="total-balance">$0.00</span>
                            </div>
                        </div>

                        <div class="wallet-assets">
                            <div class="assets-header">
                                <h3>Assets</h3>
                                <button class="btn-refresh" id="btn-refresh-balances">üîÑ</button>
                            </div>
                            <div class="assets-list" id="assets-list">
                                <div class="asset-item">
                                    <div class="asset-info">
                                        <div class="asset-icon">Œû</div>
                                        <div class="asset-details">
                                            <span class="asset-name">Ethereum</span>
                                            <span class="asset-symbol">ETH</span>
                                        </div>
                                    </div>
                                    <div class="asset-balance">
                                        <span class="asset-amount">0.00</span>
                                        <span class="asset-value">$0.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="wallet-actions-connected">
                            <button class="btn-action" id="btn-send">
                                <span>‚Üë</span> Send
                            </button>
                            <button class="btn-action" id="btn-receive">
                                <span>‚Üì</span> Receive
                            </button>
                            <button class="btn-action" id="btn-backup">
                                <span>üíæ</span> Backup
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Portfolio Tab -->
            <section class="tab-content" id="tab-portfolio">
                <div class="portfolio-container">
                    <div class="portfolio-summary">
                        <div class="summary-card">
                            <span class="card-label">Total Value</span>
                            <span class="card-value" id="portfolio-total">$0.00</span>
                            <span class="card-change positive" id="portfolio-change">+0.00%</span>
                        </div>
                        <div class="summary-card">
                            <span class="card-label">24h PnL</span>
                            <span class="card-value" id="portfolio-pnl">$0.00</span>
                        </div>
                        <div class="summary-card">
                            <span class="card-label">Open Positions</span>
                            <span class="card-value" id="portfolio-positions">0</span>
                        </div>
                    </div>
                    <div class="portfolio-chart">
                        <div class="chart-placeholder">
                            <span>üìà Portfolio Performance</span>
                            <span class="sub">Connect wallet to view</span>
                        </div>
                    </div>
                    <div class="portfolio-history">
                        <h3>Transaction History</h3>
                        <div class="history-empty">
                            <span>No transactions yet</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-left">
                <span class="status-indicator online"></span>
                <span>Connected to Hyperliquid</span>
            </div>
            <div class="footer-center">
                <span class="security-notice">üîê All data encrypted locally ‚Ä¢ Zero server storage</span>
            </div>
            <div class="footer-right">
                <a href="#" class="footer-link">Docs</a>
                <a href="#" class="footer-link">GitHub</a>
                <a href="#" class="footer-link">Discord</a>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <div class="modal" id="modal-create-wallet" style="display:none;">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Post-Quantum Wallet</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="step-indicator">
                    <div class="step active">1. Password</div>
                    <div class="step">2. Seed Phrase</div>
                    <div class="step">3. Verify</div>
                </div>
                <div class="step-content" id="step-1">
                    <p>Create a strong password to encrypt your wallet locally.</p>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="create-password" placeholder="Enter strong password" />
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="confirm-password" placeholder="Confirm password" />
                    </div>
                    <div class="password-strength">
                        <div class="strength-bar"></div>
                        <span class="strength-text">Password strength: --</span>
                    </div>
                    <button class="btn-primary btn-next">Continue</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/crypto-utils.js"></script>
    <script src="js/wallet.js"></script>
    <script src="js/hyperliquid.js"></script>
    <script src="js/uniswap.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

